@namespace SCMM.Web.Client.Shared.Component
@inject HttpClient Http

@if (ClientVersion != null)
{
    <span><i class="fa fa-fw fa-user"></i> v@(ClientVersion)&nbsp;</span>
}
@if (ServerVersion != null)
{
    <span><i class="fa fa-fw fa-server"></i> v@(ServerVersion)&nbsp;</span>
}

@code
{
    private string ClientVersion { set; get; }

    private string ServerVersion { set; get; }

    protected override async Task OnInitializedAsync()
    {
        var client = System.Reflection.Assembly.GetExecutingAssembly().GetName();
        ClientVersion = $"{client.Version.Major}.{client.Version.Minor}";
        ServerVersion = await Http.GetStringAsync("api/version");
    }

}
