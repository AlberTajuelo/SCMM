@inherits LayoutComponentBase
@inject NavigationManager NavigationManager

<MudLayout>
    <MudAppBar Fixed="true" Dense="false" Elevation="4">
        <MudIconButton Edge="MudBlazor.Edge.Start" Icon="@Icons.Material.Filled.Menu" OnClick="@((e) => ToggleDrawer())" />
        <MudText Typo="Typo.h4" Class="ml-2 pt-2">
            <RustSquareIcon />
        </MudText>
        <MudText Typo="Typo.h6" Class="ml-4">
            <MudHidden Breakpoint="MudBlazor.Breakpoint.MdAndUp" Invert="true">
                <span>Rust - Steam Community Market Manager</span>
                <MudChip Size="MudBlazor.Size.Small" OnClick="@ViewAboutPage">@AppTag</MudChip>
            </MudHidden>
            <MudHidden Breakpoint="MudBlazor.Breakpoint.SmAndDown" Invert="true">
                <span>Rust - SCMM</span>
                <MudHidden Breakpoint="MudBlazor.Breakpoint.Xs">
                    <MudChip Size="MudBlazor.Size.Small" OnClick="@ViewAboutPage">@AppTag</MudChip>
                </MudHidden>
            </MudHidden >
        </MudText>
        <MudAppBarSpacer />
        <CurrencyPicker />
    </MudAppBar>
    <MudDrawer @bind-Open="IsDrawerOpen" Variant="MudBlazor.DrawerVariant.Responsive" ClipMode="DrawerClipMode.Always" Breakpoint="MudBlazor.Breakpoint.Md" Elevation="2">
        <AppNavigationMenu />
    </MudDrawer>
    <MudMainContent Style="overflow:hidden">
        @Body
    </MudMainContent>
</MudLayout>

@code
{
    private bool IsDrawerOpen { get; set; } = true;

    private string AppTag { get; set; } = "Lovo Edition";

    void ToggleDrawer()
    {
        IsDrawerOpen = !IsDrawerOpen;
    }
    
    private void ViewAboutPage()
    {
        NavigationManager.NavigateTo($"about");
    }

}
